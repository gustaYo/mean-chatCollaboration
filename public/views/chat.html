
<div class="panel panel-primary" ng-controller="chatController as chat">
    <div class="panel-heading">
        <h3 class="panel-title">Chat pure angular</h3>
    </div>
    <div class="panel-body">
        <div class="col-md-12">
            <div class="col-md-8">
                <tabset>
                    <tab ng-repeat="tab in tabs" active="tab.active" disable="tab.disabled">
                        <tab-heading>
                            {{tab.name}}  <span class="delete_tab" ng-click="closeConversation(tab.id)" ng-if="tab.id != 'all'">X</span>
                        </tab-heading>
                        <div class="tab_contn" id="content_{{ tab.id}}" ng-bind-html="tab.content">

                        </div>
                    </tab>                   
                </tabset>

                <div class="btn-toolbar">
                    <div class="btn-group">
                        <button tooltip="see bold" tooltip-placement="top" ng-click="activeStyle('b')" type="button" class="btn btn-default " ng-class="{'active': configChat.sytle.b == 'active'}"><span class="glyphicon glyphicon-bold"></span></button>
                        <button tooltip="see italic" type="button" class="btn btn-default"><span class="glyphicon glyphicon-italic"></span></button>
                        <button tooltip="humm" type="button" class="btn btn-default"><span class="glyphicon glyphicon-font"></span></button>
                        <button tooltip="humm" type="button" class="btn btn-default"><span class="glyphicon glyphicon-text-height"></span></button>
                    </div>
                    <div class="btn-group">
                        <button tooltip="Ver conversacion completa" ng-click="seeConverCompleta()" type="button" class="btn btn-default"><span class="glyphicon glyphicon-import"></span></button>
                        <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-align-center"></span></button>
                        <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-align-right"></span></button>
                        <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-align-justify"></span></button>
                    </div>
                    <div class="btn-group">
                        <label class="filebutton btn btn-default">
                            <span class="glyphicon glyphicon-cloud-upload">
                                <input type="file" ng-file-select="onFileSelect($files)" multiple>
                            </span>
                        </label>

                        <button ng-click="audioSet()" type="button" class="btn btn-default"><span class="glyphicon {{ configChat.audio}}" ></span></button>
                    </div>
                </div>
                <form>
                    <div class="input-group"  ng-show="dropSupported" class="drop-box" ng-file-drop="onFileSelect($files);"
                         ng-file-drop-available="dropSupported=true">
                        <input type="text" class="form-control" ng-model="mensajeChat">
                        <span style="position: relative;top: -13px;" class="input-group-addon active">  <input type="submit" ng-click="sendMensaje('text')" ng-disabled="!mensajeChat" class="btn btn-primary" value="SEND"></span>
                    </div>
                </form>
            </div>
            <div class="col-md-4">
                <div class="input-group">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default" tabindex="-1">Action</button>
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" tabindex="-1">
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                        </ul>
                    </div>
                    <input ng-model="buscador" class="form-control" type="text" placeholder="Filtro de usuario">
                </div>
                <div class="list-group" style="height: 280px; overflow: auto">
                    <ul class="nav nav-pills nav-stacked">
                        <li ng-repeat="usuario in chat.users| filter: buscador" ng-click="tabActiveUser(usuario, true)" ng-class="{'active': usuario.inline}"><a> {{ usuario.name}}</a><img class="img-avatar" src="images/usuario.jpg"></li>
                    </ul>
                    
                </div>
            </div>
        </div>
    </div>
    <div class="panel-footer">
        <div ng-show="selectedFiles != null">
            <div class="sel-file" ng-repeat="f in selectedFiles" id="fileUpload{{ $index}}">
                <img ng-show="dataUrls[$index]" ng-src="{{dataUrls[$index]}}">
                <button class="button" ng-click="start($index)" ng-show="progress[$index] < 0">Start</button>
                <span class="progress" ng-show="progress[$index] >= 0">
                    <div style="width:{{progress[$index]}}%">{{progress[$index]}}%</div>
                </span>
                <button class="button" ng-click="abort($index)" ng-show="hasUploader($index) && progress[$index] < 100">
                    Abort
                </button>
                {{f.name}} - size: {{f.size}}B - type: {{f.type}}
            </div>
        </div>  
    </div>


    <audio id="audio_login"><source src="sonidos/login.wav" type="audio/wav"></audio>
    <audio id="audio_receive"><source src="sonidos/receive.wav" type="audio/wav"></audio>
    <audio id="audio_send"><source src="sonidos/send.wav" type="audio/wav"></audio>
</div>
